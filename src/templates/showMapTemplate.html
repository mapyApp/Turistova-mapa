{% block head %}
{% load staticfiles %}
 <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}" />
 <script src="{% static 'maps2.js' %}" type="text/javascript"> </script>
 <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD328dhNcGIIU90walKJfgnwiWiAAgwCW8&callback=initMap">
 </script>
 
 <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>-->
 <!--<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&callback=initMap"></script>-->

 {% endblock %}
<script  type="text/javascript" >

function addNotesMarks() {    
    {% for note in notes %}
        console.log("{{note.name}}");
        var marker = new google.maps.Marker({
            position: {lat: parseFloat("{{note.lat}}"), lng: parseFloat("{{note.lng}}")},
            map: map,
            title: "{{note.name}} | {{note.date}}"
        });
            google.maps.event.addListener(marker, 'click', function() {
            window.location.href = "{% url "noteDetail" note.id  %}";
            });
            
    {% endfor %} 
}
    
</script>

<div id="map"></div><!--close header-->